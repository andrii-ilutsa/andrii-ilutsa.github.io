"use strict";(self["webpackChunklexeon_admin"]=self["webpackChunklexeon_admin"]||[]).push([[982],{5982:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-content"},[e("div",{staticClass:"container"},[e("div",{staticClass:"page-title"},[e("h1",[t._v("Категории")]),e("div",{staticClass:"actions"},[e("button",{staticClass:"btn btn-success",attrs:{disabled:t.saveInProgress},on:{click:function(e){return t.savePage()}}},[e("span",{staticClass:"fas fa-save"}),t._v(" Сохранить ")])])]),e("div",{staticClass:"page-content"},[t.saveInProgress?e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"100%"},attrs:{role:"progressbar"}})]):t._e(),t.isSavedSuccess?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" Изменения успешно сохранены ")]):t._e(),e("div",{staticClass:"categories-section"},[e("div",{staticClass:"input-group"},[e("span",{staticClass:"input-group-text"},[t._v("UA")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryName["ua"],expression:"categoryName['ua']"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.categoryName["ua"]},on:{input:function(e){e.target.composing||t.$set(t.categoryName,"ua",e.target.value)}}}),e("span",{staticClass:"input-group-text"},[t._v("RU")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryName["ru"],expression:"categoryName['ru']"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.categoryName["ru"]},on:{input:function(e){e.target.composing||t.$set(t.categoryName,"ru",e.target.value)}}}),e("span",{staticClass:"input-group-text"},[t._v("EN")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryName["en"],expression:"categoryName['en']"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.categoryName["en"]},on:{input:function(e){e.target.composing||t.$set(t.categoryName,"en",e.target.value)}}}),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.addCategory()}}},[t._v("Добавить категорию")])]),e("div",{staticClass:"accordion"},t._l(t.categories,(function(a,s){return e("div",{key:s,staticClass:"accordion-item"},[e("h2",{staticClass:"accordion-header",attrs:{id:"c"+s+"-headingOne"}},[e("button",{staticClass:"accordion-button collapsed",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#c"+s+"-collapseOne","aria-expanded":"false"}},[t._v(" "+t._s(a.name.ua)+", "+t._s(a.name.ru)+", "+t._s(a.name.en)+" ")])]),e("div",{staticClass:"accordion-collapse collapse",attrs:{id:"c"+s+"-collapseOne"}},[e("div",{staticClass:"accordion-body"},[e("div",{staticClass:"input-group"},[e("span",{staticClass:"input-group-text"},[t._v("Изображение")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.imageURL,expression:"category.imageURL"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.imageURL},on:{input:function(e){e.target.composing||t.$set(a,"imageURL",e.target.value)}}})]),e("div",{staticClass:"input-lang-group"},[e("div",{staticClass:"input-group"},[e("span",{staticClass:"input-group-text"},[t._v("UA")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.optionName["ua"],expression:"optionName['ua']"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.optionName["ua"]},on:{input:function(e){e.target.composing||t.$set(t.optionName,"ua",e.target.value)}}}),e("span",{staticClass:"input-group-text"},[t._v("RU")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.optionName["ru"],expression:"optionName['ru']"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.optionName["ru"]},on:{input:function(e){e.target.composing||t.$set(t.optionName,"ru",e.target.value)}}}),e("span",{staticClass:"input-group-text"},[t._v("EN")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.optionName["en"],expression:"optionName['en']"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.optionName["en"]},on:{input:function(e){e.target.composing||t.$set(t.optionName,"en",e.target.value)}}}),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.addOption(s)}}},[t._v("Добавить фильтр")])])]),e("div",{staticClass:"accordion"},t._l(a.list,(function(a,i){return e("div",{key:i,staticClass:"accordion-item"},[e("h2",{staticClass:"accordion-header",attrs:{id:"co"+i+"-headingOne"}},[e("button",{staticClass:"accordion-button collapsed",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#co"+i+"-collapseOne","aria-expanded":"false"}},[t._v(" "+t._s(a.name.ua)+", "+t._s(a.name.ru)+", "+t._s(a.name.en)+" ")])]),e("div",{staticClass:"accordion-collapse collapse",attrs:{id:"co"+i+"-collapseOne"}},[e("div",{staticClass:"accordion-body"},[e("button",{staticClass:"btn btn-outline-danger btn-block",staticStyle:{"margin-bottom":"15px"},on:{click:function(e){return t.delleteOption(s,i)}}},[t._v("Удалить опцию")]),e("div",{staticClass:"input-group"},[e("span",{staticClass:"input-group-text"},[t._v("UA")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName["ua"],expression:"filterName['ua']"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filterName["ua"]},on:{input:function(e){e.target.composing||t.$set(t.filterName,"ua",e.target.value)}}}),e("span",{staticClass:"input-group-text"},[t._v("RU")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName["ru"],expression:"filterName['ru']"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filterName["ru"]},on:{input:function(e){e.target.composing||t.$set(t.filterName,"ru",e.target.value)}}}),e("span",{staticClass:"input-group-text"},[t._v("EN")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filterName["en"],expression:"filterName['en']"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filterName["en"]},on:{input:function(e){e.target.composing||t.$set(t.filterName,"en",e.target.value)}}}),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.addFilter(s,i)}}},[t._v("Добавить пункт")])]),e("div",{staticClass:"list-group list-group-flush"},t._l(a.list,(function(a,o){return e("div",{key:o,staticClass:"list-group-item"},[e("div",[t._v(t._s(a.name.ua)+", "+t._s(a.name.ru)+", "+t._s(a.name.en))]),e("span",{staticClass:"badge bg-danger rounded",on:{click:function(e){return t.delleteFilter(s,i,o)}}},[e("span",{staticClass:"fas fa-times"})])])})),0)])])])})),0)])])])})),0)])])])])},i=[],o=(a(7658),{data(){return{categories:[],categoryName:{ua:"",ru:"",en:""},optionName:{ua:"",ru:"",en:""},filterName:{ua:"",ru:"",en:""},saveInProgress:!1,isSavedSuccess:!1}},computed:{categoriesList(){return this.$store.getters["getCategories"]}},watch:{categoriesList(t){this.categories=t}},methods:{addCategory(){if(this.categoryName.ua){let t=null;if(this.categories.length){let e=parseFloat(this.categories[this.categories.length-1].id)+1;t=(e<10?"0"+e:e).toString()}else t="00";this.categories.push({id:t,name:this.categoryName,imageURL:"",list:[]}),this.categoryName=""}},addOption(t){if(this.optionName){var e=this.categories[t].list,a=0;e.length?(e.forEach((t=>{var e=parseInt(t.id.slice(2));e>a&&(a=e)})),a++,a<10&&(a="0"+a)):a="00",e.push({id:this.categories[t].id+a,name:this.optionName,list:[]}),this.optionName={ua:"",ru:"",en:""}}},addFilter(t,e){if(console.log(this.categories[t].list[e]),this.filterName){var a=this.categories[t].list[e].list,s=0;a.length?(a.forEach((t=>{var e=parseInt(t.id.slice(4));e>s&&(s=e)})),s++,s<10&&(s="0"+s)):s="00",a.push({id:this.categories[t].list[e].id+s,name:this.filterName}),this.filterName={ua:"",ru:"",en:""}}},delleteOption(t,e){this.categories[t].list.splice(e,1)},delleteFilter(t,e,a){this.categories[t].list[e].list.splice(a,1)},savePage(){this.categories.length&&(this.saveInProgress=!0,this.$store.dispatch("saveCategories",this.categories).then((()=>{this.saveInProgress=!1,this.isSavedSuccess=!0,setTimeout((()=>{this.isSavedSuccess=!1}),3e3)})))}},created(){this.categories=this.categoriesList}}),r=o,n=a(1001),l=(0,n.Z)(r,s,i,!1,null,null,null),c=l.exports}}]);
//# sourceMappingURL=982.1d7580fe.js.map